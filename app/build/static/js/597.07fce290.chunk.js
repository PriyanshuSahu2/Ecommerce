"use strict";(self.webpackChunkfrontend=self.webpackChunkfrontend||[]).push([[597],{3597:function(n,e,r){r.r(e),r.d(e,{default:function(){return Zn}});var t,o,i,s,c,a,l,d,f,u,p,x,h,v,g,m,Z,j,w,z,b,k,y,C,P,S,N,A=r(4165),D=r(5861),B=r(9439),L=r(168),R=r(2791),I=r(6487),Q=r(6036),F=r(458),J=r(184),O=I.ZP.div(t||(t=(0,L.Z)(["\n  margin-top: 22px;\n"]))),U=(0,I.ZP)(Q.DQk)(o||(o=(0,L.Z)(["\n  margin: 0px 2px;\n  color: #ff3f6c;\n  font-size: 20px;\n"]))),W=(0,I.ZP)(Q.ofN)(i||(i=(0,L.Z)(["\n  margin: 0px 2px;\n  color: #ff3f6c;\n  font-size: 20px;\n"]))),q=I.ZP.div(s||(s=(0,L.Z)(["\n  margin-bottom: 20px;\n  padding: 16px;\n  background-color: #f5f5f5;\n  border-radius: 4px;\n"]))),E=I.ZP.div(c||(c=(0,L.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: 8px;\n"]))),G=I.ZP.p(a||(a=(0,L.Z)(["\n  font-size: 16px;\n  font-weight: bold;\n  margin-bottom: 8px;\n"]))),T=I.ZP.div(l||(l=(0,L.Z)(["\n  display: flex;\n  align-items: center;\n  margin-bottom: 8px;\n"]))),$=I.ZP.span(d||(d=(0,L.Z)(["\n  font-size: 14px;\n  color: #777;\n"]))),H=I.ZP.p(f||(f=(0,L.Z)(["\n  font-size: 14px;\n  margin-bottom: 0;\n"]))),K=function(n){var e,r=n.data;return(0,J.jsx)(O,{children:(0,J.jsxs)(q,{children:[(0,J.jsxs)(E,{children:[(0,J.jsx)(G,{children:r.customerName}),(0,J.jsx)($,{children:(e=r.createdAt,new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long",day:"numeric"}))})]}),(0,J.jsx)(T,{children:function(){for(var n=[],e=1;e<=5;e++)e<=r.rating?n.push((0,J.jsx)(U,{},e)):n.push((0,J.jsx)(W,{},e));return n}()}),(0,J.jsx)(H,{children:r.review})]})})},M=r(6413),V=r(9085),X=r(1830),Y=r.n(X),_=r(7689),nn=I.zo.div(u||(u=(0,L.Z)(["\n  width: 100%;\n  position: relative;\n  background: #fff;\n  display: flex;\n"]))),en=I.zo.div(p||(p=(0,L.Z)(["\n  width: 100%;\n"]))),rn=I.zo.div(x||(x=(0,L.Z)([""]))),tn=I.zo.div(h||(h=(0,L.Z)(["\n  margin-top: 22px;\n"]))),on=I.zo.div(v||(v=(0,L.Z)(["\n  display: flex;\n  flex-direction: row;\n  width: 100%;\n  margin: 10px 30px;\n"]))),sn=I.zo.div(g||(g=(0,L.Z)(["\n  margin-top: 50px;\n"]))),cn=I.zo.div(m||(m=(0,L.Z)(["\n  font-size: 16px;\n  font-weight: 700;\n  text-transform: uppercase;\n  width: 100%;\n  color: #282c3f;\n"]))),an=I.zo.div(Z||(Z=(0,L.Z)(["\n  display: flex;\n  align-items: center;\n  font-size: 48px !important;\n"]))),ln=(0,I.zo)(Q.DQk)(j||(j=(0,L.Z)(["\n  margin: 0px 2px;\n  color: #ff3f6c;\n  font-size: 42px;\n  cursor: pointer;\n"]))),dn=(0,I.zo)(ln)(w||(w=(0,L.Z)(["\n  font-size: 40px;\n"]))),fn=(0,I.zo)(F.Q$h)(z||(z=(0,L.Z)(["\n  color: #ff3f6c;\n  cursor: pointer;\n  font-size: 42px;\n"]))),un=I.zo.div(b||(b=(0,L.Z)(["\n  margin-left: 20px;\n"]))),pn=I.zo.div(k||(k=(0,L.Z)(["\n  display: flex;\n  flex-direction: column;\n"]))),xn=I.zo.textarea(y||(y=(0,L.Z)(["\n  width: 100%;\n  margin-top: 8px;\n  padding: 8px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  resize: vertical;\n  display: ",";\n"])),(function(n){return n.show?"block":"none"})),hn=I.zo.div(C||(C=(0,L.Z)(["\n  margin-top: 8px;\n  display: flex;\n  justify-content: flex-end;\n"]))),vn=I.zo.div(P||(P=(0,L.Z)(["\n  margin-left: 34px;\n  height: 96px;\n  border-left: 1.2px solid #eaeaec;\n"]))),gn=I.zo.button(S||(S=(0,L.Z)(["\n  margin-left: 8px;\n  padding: 8px 16px;\n  border: none;\n  border: 1px solid #ff3e6c;\n  background-color: #ff3f6c;\n  color: #fff;\n  cursor: pointer;\n  font-size: 16px;\n  font-weight: 700;\n"]))),mn=(0,I.zo)(gn)(N||(N=(0,L.Z)(["\n  background-color: white;\n  color: #282c3f;\n  border: 1px solid #d4d5d9;\n"]))),Zn=function(n){var e,r,t,o=n.productId,i=n.averageRating,s=n.setUpdate,c=n.update,a=(0,R.useState)(0),l=(0,B.Z)(a,2),d=l[0],f=l[1],u=(0,R.useState)(""),p=(0,B.Z)(u,2),x=p[0],h=p[1],v=(0,R.useState)(!1),g=(0,B.Z)(v,2),m=g[0],Z=g[1],j=(0,_.s0)(),w=function(n){f(n),Z(!0)},z=function(){f(0),h(""),Z(!1)},b=null===(e=JSON.parse(localStorage.getItem("persist:root")))||void 0===e?void 0:e.user,k=null===(r=JSON.parse(b))||void 0===r||null===(t=r.currentUser)||void 0===t?void 0:t.fullName,y=function(){var n=(0,D.Z)((0,A.Z)().mark((function n(e){var r;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(e.preventDefault(),console.log(k),!k){n.next=18;break}return n.prev=3,n.next=6,M.WG.post("reviews/",{customerName:k,rating:d,review:x,productId:o});case 6:r=n.sent,V.Am.success("Review Added Successfully"),s(r),z(),n.next=16;break;case 12:n.prev=12,n.t0=n.catch(3),console.log(n.t0),V.Am.error(n.t0.response.data.error);case 16:n.next=19;break;case 18:Y().fire({icon:"question",title:"Do you want to Login?",text:"Please Login First to Continue!!",iconColor:"#ff3f6c",confirmButtonColor:"#ff3f6c",cancelButtonColor:"black",showCancelButton:!0,confirmButtonText:"Login"}).then((function(n){n.isConfirmed&&j("/auth")}));case 19:case"end":return n.stop()}}),n,null,[[3,12]])})));return function(e){return n.apply(this,arguments)}}(),C=(0,R.useState)([]),P=(0,B.Z)(C,2),S=P[0],N=P[1];return(0,R.useEffect)((function(){var n=function(){var n=(0,D.Z)((0,A.Z)().mark((function n(){var e;return(0,A.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,M.g8)("reviews/"+o);case 3:e=n.sent,console.log(e.data.reviews),N(e.data.reviews),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log("AllProductSection ".concat(n.t0));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(){return n.apply(this,arguments)}}();n()}),[o,c]),(0,J.jsx)(nn,{children:(0,J.jsxs)(en,{children:[(0,J.jsxs)(on,{children:[(0,J.jsxs)(rn,{children:[(0,J.jsx)(cn,{children:"Ratings"}),(0,J.jsxs)(an,{children:[(0,J.jsx)("span",{children:null===i||void 0===i?void 0:i.toFixed(1)}),(0,J.jsx)(dn,{})]})]}),(0,J.jsx)(vn,{}),(0,J.jsxs)(un,{children:[(0,J.jsx)(cn,{children:"Add your rating:"}),(0,J.jsxs)(pn,{children:[(0,J.jsx)("div",{className:"flex",children:function(){for(var n=[],e=function(e){e<=d?n.push((0,J.jsx)(ln,{onClick:function(){return w(e)}},e)):n.push((0,J.jsx)(fn,{onClick:function(){return w(e)}},e))},r=1;r<=5;r++)e(r);return n}()}),(0,J.jsx)(xn,{placeholder:"Write your review...",value:x,onChange:function(n){h(n.target.value)},show:m}),m&&(0,J.jsxs)(hn,{children:[(0,J.jsx)(gn,{onClick:y,children:"Submit"}),(0,J.jsx)(mn,{onClick:z,children:"Cancel"})]})]})]})]}),(0,J.jsx)("hr",{}),(0,J.jsxs)(sn,{children:[(0,J.jsx)(cn,{children:"Customer Reviews"}),(0,J.jsx)(tn,{children:S.map((function(n){return(0,J.jsx)(K,{data:n})}))})]})]})})}}}]);
//# sourceMappingURL=597.07fce290.chunk.js.map